

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Documentation du code source &mdash; documentation Développement d&#39;une application web de création de quiz 0.1</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="documentation Développement d&#39;une application web de création de quiz 0.1" href="index.html"/>
        <link rel="next" title="Modèle relationnel" href="database.html"/>
        <link rel="prev" title="Documentation utilisateur" href="doc-user.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> Développement d'une application web de création de quiz</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="rapydscript.html">Présentation de RapydScript</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rapydscript.html#pourquoi-utiliser-python-plutot-que-javascript">Pourquoi utiliser Python plutôt que Javascript ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapydscript.html#differentes-manieres-d-aborder-le-probleme-coffeescript-brython-et-rapydscript">Différentes manières d&#8217;aborder le problème : CoffeeScript, Brython et RapydScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapydscript.html#introduction-a-rapydscript">Introduction à RapydScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapydscript.html#comparaison-du-code-source-et-du-code-genere">Comparaison du code source et du code généré</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doc-user.html">Documentation utilisateur</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc-user.html#professeurs">Professeurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-user.html#etudiants">Étudiants</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Documentation du code source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-quiz.views">views.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-quiz.models">models.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-quiz.forms">forms.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-quiz.utils.submit">utils/submit.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-quiz.utils.correct">utils/correct.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-quiz.utils.save">utils/save.py</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Modèle relationnel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="database.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html#utilisation-dans-l-application-de-creation-de-quiz">Utilisation dans l&#8217;application de création de quiz</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Développement d'une application web de création de quiz</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Documentation du code source</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/source.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="documentation-du-code-source">
<h1>Documentation du code source<a class="headerlink" href="#documentation-du-code-source" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="module-quiz.views">
<span id="views-py"></span><h2>views.py<a class="headerlink" href="#module-quiz.views" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="function">
<dt id="quiz.views.add_correct_answer">
<code class="descclassname">quiz.views.</code><code class="descname">add_correct_answer</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#add_correct_answer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.add_correct_answer" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette fonctionnalité donne la possibilité de définir comme correcte une réponse
soumise par l&#8217;étudiant à une question courte et de l&#8217;ajouter aux solutions de
la question en créant une nouvelle entrée dans la table <code class="docutils literal"><span class="pre">SqAnswer</span></code>.</p>
<p>Cette vue n&#8217;est utilisée que par l&#8217;intermédiaire d&#8217;une requête Ajax et n&#8217;est
accessible que si l&#8217;utilisateur est un professeur.</p>
<p><strong>Paramètres de la requête HTTP POST :</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">answer</span></code> : Clé primaire de l&#8217;entrée dans la table <code class="docutils literal"><span class="pre">SqSubmit</span></code> qui doit être ajoutée aux solutions.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="quiz.views.advanced_stats">
<code class="descclassname">quiz.views.</code><code class="descname">advanced_stats</code><span class="sig-paren">(</span><em>request</em>, <em>n_quiz</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#advanced_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.advanced_stats" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Récupère toutes les résolutions associés au quiz avec la clé primaire <code class="docutils literal"><span class="pre">n_quiz</span></code> dans la base de données et affiche
des statistiques précises montrant le résultat personnel des élèves pour chaque question.</p>
<p>Un objet <code class="docutils literal"><span class="pre">QuizForms</span></code> qui créé des formulaires Django pour toutes les question
du quiz est instancié pour permettre au professeur de visionner 
chaque question du quiz. Ce formulaire ne peut pas être envoyé et sert
uniquement à l&#8217;affichage.</p>
</dd></dl>

<dl class="function">
<dt id="quiz.views.complete">
<code class="descclassname">quiz.views.</code><code class="descname">complete</code><span class="sig-paren">(</span><em>request</em>, <em>n_quiz</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.complete" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette vue est destinée à la résolution des quiz. Comme <code class="docutils literal"><span class="pre">create</span></code>, son comportement
change selon qu&#8217;il s&#8217;agisse d&#8217;une requête HTTP de type GET ou de type POST.</p>
<p>Dans le cas d&#8217;une requête de type GET, la vue se contente de récupérer le quiz
avec la clé primaire <code class="docutils literal"><span class="pre">n_quiz</span></code> et d&#8217;instancier un objet <code class="xref py py-class docutils literal"><span class="pre">utils.submit.QuizForms</span></code> à partir
du quiz sélectionné. Cet objet prend en charge la création de tous les formulaires
Django nécessaires pour compléter le quiz (un formulaire Django par question).
Ces formulaires Django sont ensuite récupérés par l&#8217;intermédiaire de la méthode
<code class="docutils literal"><span class="pre">.get_forms()</span></code> et placés dans le contexte de la fonction <code class="docutils literal"><span class="pre">render()</span></code>.</p>
<p>La requête de type POST est utilisée pour l&#8217;enregistrement des réponses soumises
au quiz par un étudiant. Là aussi, on utilise la classe <code class="docutils literal"><span class="pre">QuizForms</span></code>, sauf que
l&#8217;instanciation se fait avec un deuxième argument, <code class="docutils literal"><span class="pre">data</span></code>. Cet argument contient
en fait les données soumises par le biais des formulaires Django lorsque un
étudiant complète le quiz. Pour s&#8217;assurer de la validité de ces données, on
utilise la méthode <code class="xref py py-meth docutils literal"><span class="pre">submit.QuizForms.are_valid()</span></code> de la classe <code class="docutils literal"><span class="pre">QuizForms</span></code>. Une fois le
contrôle effectué, la méthode <code class="docutils literal"><span class="pre">.save_answers()</span></code> se charge d&#8217;ajouter de nouvelles
entrées dans la base de donnée pour stocker les réponses soumises par l&#8217;étudiant.
Pour finir, l&#8217;utilisateur est redirigé vers la page de correction correspondant
aux réponses envoyées précédemment.</p>
<p><strong>Paramètres de la requête HTTP POST :</strong></p>
<ul class="simple">
<li>Ces paramètres dépendent du type et du nombre de questions qui constituent le quiz.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="quiz.views.completed_quizzes">
<code class="descclassname">quiz.views.</code><code class="descname">completed_quizzes</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#completed_quizzes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.completed_quizzes" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Récupère dans la base de données toutes les entrées de la table <code class="docutils literal"><span class="pre">CompletedQuiz</span></code>
appartenant à l&#8217;utilisateur connecté et affiche des informations générales comme
le nombre de points obtenus et un lien pour afficher la correction des réponses.</p>
</dd></dl>

<dl class="function">
<dt id="quiz.views.correct">
<code class="descclassname">quiz.views.</code><code class="descname">correct</code><span class="sig-paren">(</span><em>request</em>, <em>n_completed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#correct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.correct" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Récupère dans la base de données l&#8217;entrée de la table <code class="docutils literal"><span class="pre">CompletedQuiz</span></code> avec
la clé primaire <code class="docutils literal"><span class="pre">n_completed</span></code> et affiche une correction détaillée des réponses soumises
par l&#8217;étudiant.</p>
<p>L&#8217;objet <code class="docutils literal"><span class="pre">CorrectQuiz</span></code> regroupe et calcule toutes les informations nécessaires
à l&#8217;affichage du quiz. Cet objet est ensuite placé dans le contexte de la fonctions
<code class="docutils literal"><span class="pre">render</span></code> et fournit ainsi un accès facilité aux données de la correction depuis
le template.</p>
</dd></dl>

<dl class="function">
<dt id="quiz.views.create">
<code class="descclassname">quiz.views.</code><code class="descname">create</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.create" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette vue sert à la fois à l&#8217;affichage de l&#8217;outil de création de quiz et à
l&#8217;enregistrement de nouveaux quiz.</p>
<p>S&#8217;il s&#8217;agit d&#8217;une requête HTTP GET, elle renvoie simplement le template de
création de quiz contenant un formulaire vide.</p>
<p>Au contraire, s&#8217;il la requête HTTP est de type POST, la vue se charge d&#8217;enregistrer
le nouveau quiz dans la base de données en instanciant un objet de la classe
<a class="reference internal" href="#quiz.utils.save.SaveQuiz" title="quiz.utils.save.SaveQuiz"><code class="xref py py-class docutils literal"><span class="pre">utils.save.SaveQuiz</span></code></a> avec en argument les paramètres de la requête HTTP et le compte
utilisateur du créateur du quiz. Cette
classe se charge ensuite de créer les entrées nécessaires dans les différentes tables de
la base de données.</p>
<p>Une fois le quiz enregistré, la vue redirige l&#8217;utilisateur vers la page de
résolution du quiz qui vient d&#8217;être créé.</p>
<p><strong>Paramètres de la requête HTTP POST :</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">title</span></code> : Le titre du quiz</li>
<li><code class="docutils literal"><span class="pre">json</span></code> : Les données des questions du quiz structurées sous forme de json. Le json sera ensuite parsé par la classe <code class="docutils literal"><span class="pre">SaveQuiz</span></code>.</li>
<li><code class="docutils literal"><span class="pre">quizcode</span></code> : Le format texte du quiz, interprété côté client pour construire le json</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="quiz.views.created_quizzes">
<code class="descclassname">quiz.views.</code><code class="descname">created_quizzes</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#created_quizzes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.created_quizzes" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Récupère dans la base de données toutes les entrées de la table <code class="docutils literal"><span class="pre">Quiz</span></code> créées
par le professeur connecté. Les données des quiz sont utilisées pour afficher
le résultat moyen des étudiants pour le quiz, la date de création ainsi qu&#8217;un lien vers la page de
résolution du quiz ou vers les statistiques avancées.</p>
</dd></dl>

<dl class="function">
<dt id="quiz.views.find">
<code class="descclassname">quiz.views.</code><code class="descname">find</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.find" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Récupère dans la base de données les derniers quiz créés par des professeurs
et renvoie un template contenant des informations générales sur ces quiz et
un lien pour y accéder.</p>
</dd></dl>

<dl class="function">
<dt id="quiz.views.findquiz">
<code class="descclassname">quiz.views.</code><code class="descname">findquiz</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#findquiz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.findquiz" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie sous forme de json le titre et l&#8217;url pour accéder au quiz dont la clé primaire est donnée
en paramètre de la requête GET.</p>
<p>L&#8217;url du quiz est construite à l&#8217;aide de la méthode <code class="docutils literal"><span class="pre">reverse(vue,</span> <span class="pre">arguments)</span></code>
fournie par Django.
Le premier argument de la fonction <code class="docutils literal"><span class="pre">reverse()</span></code> est une chaîne de caractère composée du nom de l&#8217;application Django
et du nom de la vue (dans les urls) respectant le schéma suivant :
<code class="docutils literal"><span class="pre">&quot;nom_app:nom_vue&quot;</span></code>. L&#8217;argument <code class="docutils literal"><span class="pre">args</span></code> est une liste contenant les arguments
de l&#8217;URL de la page souhaitée. Ici, il s&#8217;agit simplement de la clé primaire du quiz recherché.</p>
<p>Cette vue est essentiellement destinée à être utilisé par une requête Ajax
depuis la vue <code class="docutils literal"><span class="pre">find</span></code>.</p>
<p><strong>Exemple de json renvoyé par la vue :</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Un quiz sympathique&quot;</span><span class="p">,</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;/quiz/1/complete/&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Paramètres de la requête HTTP GET :</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">quiz</span></code> : Clé primaire du quiz recherché</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="quiz.views.getdraft">
<code class="descclassname">quiz.views.</code><code class="descname">getdraft</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#getdraft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.getdraft" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie sous forme de json le titre et le code correspondant au brouillon en
paramètre.</p>
<p>Cette vue est essentiellement destinée à être utilisé par une requête Ajax.</p>
<p><strong>Exemple de données d&#8217;un brouillon en json :</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Brouillon 1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;## Cases à cocher\n * Option 1\n= Option 4\n= Option 5&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Paramètres de la requête HTTP GET :</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">draft</span></code> : Clé primaire du brouillon</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="quiz.views.listdrafts">
<code class="descclassname">quiz.views.</code><code class="descname">listdrafts</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#listdrafts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.listdrafts" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie le titre et la clé primaire de tous les brouillons de l&#8217;utilisateur connecté
sous forme de json.</p>
<p><strong>Exemple de json renvoyé dans le cas d&#8217;un professeur ayant
enregistré deux brouillons :</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Brouillon 1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Brouillon 2&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Cette vue est essentiellement destinée à être utilisé par requête Ajax.</p>
</dd></dl>

<dl class="function">
<dt id="quiz.views.savedraft">
<code class="descclassname">quiz.views.</code><code class="descname">savedraft</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/views.html#savedraft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.views.savedraft" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Créé une nouvelle entrée dans la table <code class="docutils literal"><span class="pre">QuizDraft</span></code>. Le brouillon est associé
à l&#8217;utilisateur connecté et enregistre les valeurs données en paramètres pour
les colonnes <code class="docutils literal"><span class="pre">title</span></code> et <code class="docutils literal"><span class="pre">code</span></code>.</p>
<p>Cette vue n&#8217;est disponible que si l&#8217;utilisateur connecté appartient au groupe
&#8216;teachers&#8217;.</p>
<p><strong>Paramètres de la requête HTTP POST :</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">title</span></code> : Titre du brouillon</li>
<li><code class="docutils literal"><span class="pre">code</span></code> : Code du quiz</li>
</ul>
</dd></dl>

</div>
<div class="section" id="module-quiz.models">
<span id="models-py"></span><h2>models.py<a class="headerlink" href="#module-quiz.models" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="class">
<dt id="quiz.models.CompletedQuiz">
<em class="property">class </em><code class="descclassname">quiz.models.</code><code class="descname">CompletedQuiz</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#CompletedQuiz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.CompletedQuiz" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Contient</p>
<dl class="method">
<dt id="quiz.models.CompletedQuiz.get_questions_submits">
<code class="descname">get_questions_submits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#CompletedQuiz.get_questions_submits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.CompletedQuiz.get_questions_submits" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie la liste des entrées des tables <code class="docutils literal"><span class="pre">SqSubmit</span></code>, <code class="docutils literal"><span class="pre">QcmSubmitOne</span></code> et
<code class="docutils literal"><span class="pre">QcmSubmitMulti</span></code> correspondant à la résolution <code class="docutils literal"><span class="pre">self</span></code>.
Chaque élément de cette liste représente concrètement la réponse soumise à
une question du quiz.</p>
<p>Cette liste est triée selon l&#8217;ordre d&#8217;apparition des questions correspondant
réponses proposées.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.CompletedQuiz.update_total_result">
<code class="descname">update_total_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#CompletedQuiz.update_total_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.CompletedQuiz.update_total_result" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Met à jour le nombre de points obtenus pour la résolution du quiz en entier
en fonction des points obtenus pour chaque réponse soumise aux questions
du quiz.</p>
<p>Pour comptabiliser le nombre total de points obtenus, cette méthode parcourt
la liste des réponses apportées avec la méthode <a class="reference internal" href="#quiz.models.CompletedQuiz.get_questions_submits" title="quiz.models.CompletedQuiz.get_questions_submits"><code class="xref py py-meth docutils literal"><span class="pre">CompletedQuiz.get_questions_submits()</span></code></a>
appliquée à la résolution en question.
calcule la somme des points obtenus pour chacune des questions.</p>
<p>Cette méthode peut être utilisée lorsqu&#8217;une résolution vient d&#8217;être soumise
par un élève pour comptabiliser une première fois les points obtenus ou 
lorsqu&#8217;une entrée dans <a class="reference internal" href="#quiz.models.SqAnswer" title="quiz.models.SqAnswer"><code class="xref py py-class docutils literal"><span class="pre">SqAnswer</span></code></a> a été ajoutée pour mettre à jour les
statistques en fonction des changements.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="quiz.models.Qcm">
<em class="property">class </em><code class="descclassname">quiz.models.</code><code class="descname">Qcm</code><span class="sig-paren">(</span><em>id</em>, <em>text</em>, <em>comment</em>, <em>points</em>, <em>number</em>, <em>id_quiz_id</em>, <em>multi_answers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#Qcm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.Qcm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="quiz.models.Qcm.average_result">
<code class="descname">average_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#Qcm.average_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.Qcm.average_result" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Récupère toutes les réponses soumises pour la question et renvoie la moyenne
arrondie à deux chiffres après la virgule sur la base du nombre de réponses
proposées et sur la somme des résultats obtenus.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.Qcm.create_form">
<code class="descname">create_form</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#Qcm.create_form"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.Qcm.create_form" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Retourne un formulaire Django permettant à un étudiant de répondre à la question
<code class="docutils literal"><span class="pre">self</span></code>. Le formulaire sera de type <code class="docutils literal"><span class="pre">RadioForm</span></code> si un seul choix
peut être sélectionné et de type <code class="docutils literal"><span class="pre">CheckboxForm</span></code> si la question autorise
l&#8217;étudiant à cocher plusieurs options.</p>
<p>Les arguments fournis lors de l&#8217;instanciation du formulaire sont analogues
à ceux qui sont donnés pour l&#8217;instanciation d&#8217;un <code class="docutils literal"><span class="pre">TextForm</span></code> dans <a class="reference internal" href="#quiz.models.SimpleQuestion.create_form" title="quiz.models.SimpleQuestion.create_form"><code class="xref py py-meth docutils literal"><span class="pre">SimpleQuestion.create_form()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.Qcm.save_submit">
<code class="descname">save_submit</code><span class="sig-paren">(</span><em>data</em>, <em>completed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#Qcm.save_submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.Qcm.save_submit" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Enregistre une nouvelle entrée dans la table <a class="reference internal" href="#quiz.models.QcmSubmitMulti" title="quiz.models.QcmSubmitMulti"><code class="xref py py-class docutils literal"><span class="pre">QcmSubmitMulti</span></code></a>
ou <a class="reference internal" href="#quiz.models.QcmSubmitOne" title="quiz.models.QcmSubmitOne"><code class="xref py py-class docutils literal"><span class="pre">QcmSubmitOne</span></code></a> selon qu&#8217;il s&#8217;agisse d&#8217;une question avec
plusieurs options correctes ou une seule. Ces tables permettent de stocker
le(s) choix sélectionné(s) par l&#8217;étudiant pour la question <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>La récupération des données du formulaire à partir de l&#8217;argument <code class="docutils literal"><span class="pre">data</span></code>
et l&#8217;instanciation du modèle est analogue à la manipulation effectuée dans <a class="reference internal" href="#quiz.models.SimpleQuestion.save_submit" title="quiz.models.SimpleQuestion.save_submit"><code class="xref py py-meth docutils literal"><span class="pre">SimpleQuestion.save_submit()</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="quiz.models.QcmChoice">
<em class="property">class </em><code class="descclassname">quiz.models.</code><code class="descname">QcmChoice</code><span class="sig-paren">(</span><em>id</em>, <em>text</em>, <em>valid</em>, <em>id_question_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#QcmChoice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.QcmChoice" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="quiz.models.QcmChoice.checked">
<code class="descname">checked</code><span class="sig-paren">(</span><em>qcmsubmit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#QcmChoice.checked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.QcmChoice.checked" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Détermine si le choix a été sélectionné ou non dans la réponse soumise
<code class="docutils literal"><span class="pre">qcmsubmit</span></code>.</p>
<p>S&#8217;il la question peut admettre plusieurs options correctes, deux conditions doivent
être remplies. D&#8217;abord, au moins un choix doit avoir été coché dans <code class="docutils literal"><span class="pre">qcmsubmit</span></code>.
Cette vérification est nécessaire car le champ <code class="docutils literal"><span class="pre">qcmsubmit.id_selected</span></code> peut
valoir <code class="docutils literal"><span class="pre">null</span></code> dans la base de données. Ensuite, il suffit de regarder
si le choix se trouve dans la liste des options sélectionnés avec la méthode
<code class="docutils literal"><span class="pre">qcmsubmit.id_selected.all()</span></code>.</p>
<p>Dans le cas d&#8217;une question avec une seule réponse correcte, la méthode
vérifie simplement que l&#8217;élément sélectionné corresponde au choix défini comme
correct.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.QcmChoice.correct_submit">
<code class="descname">correct_submit</code><span class="sig-paren">(</span><em>qcmsubmit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#QcmChoice.correct_submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.QcmChoice.correct_submit" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Détermine le choix <code class="docutils literal"><span class="pre">self</span></code> a été coché correctement dans la réponse
soumise <code class="docutils literal"><span class="pre">qcmsubmit</span></code>. Si l&#8217;option a été cochée et qu&#8217;elle est définie
comme valide, la méthode renvoie <code class="docutils literal"><span class="pre">True</span></code>. Si l&#8217;option est cochée mais
définie comme invalide, la valeur de retour sera cette fois <code class="docutils literal"><span class="pre">False</span></code>.
Si l&#8217;élève n&#8217;a pas coché l&#8217;option, le raisonnement se fera de manière analogue
mais dans le sens inverse.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="quiz.models.QcmSubmitMulti">
<em class="property">class </em><code class="descclassname">quiz.models.</code><code class="descname">QcmSubmitMulti</code><span class="sig-paren">(</span><em>id</em>, <em>result</em>, <em>id_submitted_quiz_id</em>, <em>id_question_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#QcmSubmitMulti"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.QcmSubmitMulti" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="quiz.models.QcmSubmitMulti.save_result">
<code class="descname">save_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#QcmSubmitMulti.save_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.QcmSubmitMulti.save_result" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Comptabilise et enregistre les points obtenus par rapport aux choix cochés.</p>
<p>Cette méthode parcourt tous les choix possibles pour la question
<code class="docutils literal"><span class="pre">self.id_question</span></code> récupérés avec <code class="xref py py-meth docutils literal"><span class="pre">Qcm.get_choices()</span></code>. Pour chaque
choix, elle utilise la méthode <a class="reference internal" href="#quiz.models.QcmChoice.correct_submit" title="quiz.models.QcmChoice.correct_submit"><code class="xref py py-meth docutils literal"><span class="pre">QcmChoice.correct_submit()</span></code></a> pour
vérifier que le choix a été coché correctement. L&#8217;étudiant obtient une part
des points pour chaque choix correct.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="quiz.models.QcmSubmitOne">
<em class="property">class </em><code class="descclassname">quiz.models.</code><code class="descname">QcmSubmitOne</code><span class="sig-paren">(</span><em>id</em>, <em>result</em>, <em>id_submitted_quiz_id</em>, <em>id_question_id</em>, <em>id_selected_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#QcmSubmitOne"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.QcmSubmitOne" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="quiz.models.QcmSubmitOne.save_result">
<code class="descname">save_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#QcmSubmitOne.save_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.QcmSubmitOne.save_result" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Comptabilise et enregistre les points obtenus par raport au choix sélectionné.</p>
<p>Si le choix sélectionné correspond à la solution, tous les points sont attribués.
Si aucune option n&#8217;est choisie, l&#8217;étudiant obtient automatiquement zéro point.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="quiz.models.Quiz">
<em class="property">class </em><code class="descclassname">quiz.models.</code><code class="descname">Quiz</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#Quiz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.Quiz" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Table dont le rôle est de stocker les informations générales sur le quiz telles
que le titre du quiz, le nombre maximal de points pouvant être obtenus ou la date
et l&#8217;heure de sa création.</p>
<p>Tous les modèles contenant les données des questions du quiz incluent une clé
étrangère reliant la question avec la table <code class="docutils literal"><span class="pre">`Quiz</span></code>.</p>
<dl class="method">
<dt id="quiz.models.Quiz.average_result">
<code class="descname">average_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#Quiz.average_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.Quiz.average_result" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Récupère dans la base de données toutes les résolutions se rattachant
au quiz en question puis calcule la moyenne des résultats obtenus sur la base
du résultat de chaque élève et le nombre de résolutions envoyées.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.Quiz.get_questions">
<code class="descname">get_questions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#Quiz.get_questions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.Quiz.get_questions" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Récupère la liste de toutes les questions du quiz et les trie dans l&#8217;ordre
d&#8217;apparition dans le quiz.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.Quiz.length">
<code class="descname">length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#Quiz.length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.Quiz.length" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Retourne le nombre de questions qui composent le quiz.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="quiz.models.QuizDraft">
<em class="property">class </em><code class="descclassname">quiz.models.</code><code class="descname">QuizDraft</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#QuizDraft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.QuizDraft" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La table <code class="docutils literal"><span class="pre">QuizDraft</span></code> sert à stocker les brouillons. Elle contient le titre
du brouillon, le code ainsi qu&#8217;une relation vers le créateur du brouillon.</p>
</dd></dl>

<dl class="class">
<dt id="quiz.models.SimpleQuestion">
<em class="property">class </em><code class="descclassname">quiz.models.</code><code class="descname">SimpleQuestion</code><span class="sig-paren">(</span><em>id</em>, <em>text</em>, <em>comment</em>, <em>points</em>, <em>number</em>, <em>id_quiz_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SimpleQuestion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SimpleQuestion" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="quiz.models.SimpleQuestion.average_result">
<code class="descname">average_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SimpleQuestion.average_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SimpleQuestion.average_result" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie le nombre moyen de points obtenus pour la question en se basant sur
le nombre total de réponses soumises et sur la somme de tous les points obtenus.
La moyenne est ensuite arrondie à deux chiffres après la virgule pour éviter
tout problème d&#8217;affichage.</p>
<p>Au cas où aucune réponse n&#8217;a encore été soumise, cette méthode retourne
simplement la chaîne <code class="docutils literal"><span class="pre">--</span></code> qui peut directement être utilisée dans le template.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.SimpleQuestion.create_form">
<code class="descname">create_form</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SimpleQuestion.create_form"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SimpleQuestion.create_form" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Instancie un formulaire Django personnalisé de type <code class="docutils literal"><span class="pre">TextForm</span></code> correspondant
à la question. Ce type de formulaire est défini dans py:mod:<cite>forms</cite> et spécialement
conçu pour les questions à réponse courte.</p>
<p>Lors de l&#8217;instanciation, plusieurs arguments sont fournis. Premièrement,
on indique la question <code class="docutils literal"><span class="pre">self</span></code> pour que des informations supplémentaires
la concernant puissent éventuellement être obtenues depuis le formulaire.CompletedQuiz
Ensuite, l&#8217;index de la position de la question dans le quiz est attribué à
l&#8217;argument <code class="docutils literal"><span class="pre">prefix</span></code>. Cet argument permet d&#8217;identifier la question correspondant
au formulaire lorsque les données entrées par l&#8217;utilisateur sont récupérées.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.SimpleQuestion.get_wrong_answers">
<code class="descname">get_wrong_answers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SimpleQuestion.get_wrong_answers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SimpleQuestion.get_wrong_answers" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Retourne la liste de toutes les réponses incorrectes soumises pour la question <code class="docutils literal"><span class="pre">self</span></code>.
Pour éviter les doublons, les réponses équivalentes sont renvoyées une seule fois.
Par exemple, si deux réponses valent <code class="docutils literal"><span class="pre">&quot;5&quot;</span></code>, seule la première sera renvoyée par
cette méthode.</p>
<p>Comme cette méthode est utilisée pour afficher les réponses soumises incorrectes pouvant
potentiellement être définies comme correctes par la suite au cas où le 
professeur les juge acceptables, les réponses vides sont aussi exclues 
puisqu&#8217;il n&#8217;y aurait pas de sens à les admettre dans les solutions.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.SimpleQuestion.save_submit">
<code class="descname">save_submit</code><span class="sig-paren">(</span><em>data</em>, <em>completed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SimpleQuestion.save_submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SimpleQuestion.save_submit" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette méthode permet d&#8217;enregistrer dans la base de données une réponse soumise
par l&#8217;utilisateur à la question <code class="docutils literal"><span class="pre">self</span></code> en créant une entrée dans la table
<code class="docutils literal"><span class="pre">SqSubmit</span></code>.</p>
<p>L&#8217;argument <code class="docutils literal"><span class="pre">data</span></code> est dictionnaire contenant les paramètres de la 
requête HTTP qui concernent le formulaire créé pour la question. On peut donc
facilement accéder au texte entré par l&#8217;élève avec la clé <code class="docutils literal"><span class="pre">'answer'</span></code>.</p>
<p>L&#8217;argument <code class="docutils literal"><span class="pre">completed</span></code> contient la référence vers l&#8217;élément de la table
<code class="docutils literal"><span class="pre">CompletedQuiz</span></code> qui comprend les données de la résolution de l&#8217;élève. On
peut ainsi facilement relier l&#8217;entrée créée dans <code class="docutils literal"><span class="pre">SqSubmit</span></code> avec la résolution
de l&#8217;élève.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.SimpleQuestion.update_question_results">
<code class="descname">update_question_results</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SimpleQuestion.update_question_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SimpleQuestion.update_question_results" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Permet de réévaluer toutes les réponses soumises pour la question après
l&#8217;ajout d&#8217;une solution correcte pour corriger les statistiques.</p>
<p>Pour ceci, la méthode récupère la liste des réponses soumises à la question
dans la table <code class="docutils literal"><span class="pre">SqSubmit</span></code>. Elle applique la méthode <code class="docutils literal"><span class="pre">.save_result</span></code> à 
chacune d&#8217;entre elles. De plus,
comme le résultat de la résolution peut changer, il faut aussi mettre à jour
le résultat total obtenu pour la résolution (table <code class="docutils literal"><span class="pre">CompletedQuiz</span></code>) liée à chaque réponse soumise.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="quiz.models.SqAnswer">
<em class="property">class </em><code class="descclassname">quiz.models.</code><code class="descname">SqAnswer</code><span class="sig-paren">(</span><em>id</em>, <em>text</em>, <em>id_question_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SqAnswer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SqAnswer" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="quiz.models.SqSubmit">
<em class="property">class </em><code class="descclassname">quiz.models.</code><code class="descname">SqSubmit</code><span class="sig-paren">(</span><em>id</em>, <em>text</em>, <em>result</em>, <em>id_question_id</em>, <em>id_submitted_quiz_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SqSubmit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SqSubmit" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="quiz.models.SqSubmit.build_correct">
<code class="descname">build_correct</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SqSubmit.build_correct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SqSubmit.build_correct" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Instancie et retourne un objet <code class="docutils literal"><span class="pre">CorrectSq</span></code> correspondant à la réponse soumise <code class="docutils literal"><span class="pre">self</span></code>.
La classe :py:class:<code class="docutils literal"><span class="pre">CorrectSq</span></code> permet un accès plus rapide aux données nécessaires à
l&#8217;affichage de la correction.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.SqSubmit.correct">
<code class="descname">correct</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SqSubmit.correct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SqSubmit.correct" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Détermine si la réponse soumise est correcte en vérifiant qu&#8217;elle se
se trouve dans la liste des solutions correctes.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.SqSubmit.get_corrections">
<code class="descname">get_corrections</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SqSubmit.get_corrections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SqSubmit.get_corrections" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie la liste des solutions correctes pour la question sous forme de liste de
chaînes de charactères</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.SqSubmit.save_result">
<code class="descname">save_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SqSubmit.save_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SqSubmit.save_result" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Comptabilise et enregistre les points obtenus pour la réponse soumise. Si la réponse soumise
est correcte, tous les points sont attribués. Dans le cas contraire,
aucun point n&#8217;est attribué.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.models.SqSubmit.set_as_correct">
<code class="descname">set_as_correct</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/models.html#SqSubmit.set_as_correct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.models.SqSubmit.set_as_correct" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si la réponse soumise à la question avait été définie comme incorrecte
lors de la correction automatique, cette méthode permet d&#8217;ajouter la réponse
soumise aux solutions correctes de la question.</p>
<p>Toutes les réponses soumises pour la question sont ensuite réeavaluées pour
mettre à jour les statistiques.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-quiz.forms">
<span id="forms-py"></span><h2>forms.py<a class="headerlink" href="#module-quiz.forms" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="class">
<dt id="quiz.forms.CheckboxForm">
<em class="property">class </em><code class="descclassname">quiz.forms.</code><code class="descname">CheckboxForm</code><span class="sig-paren">(</span><em>queryset</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/forms.html#CheckboxForm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.forms.CheckboxForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Formulaire Django personnalisé correspondant à une question à choix multiples
pouvant admettre plusieurs réponses correctes.</p>
<p>Le type de champ de formulaire utilisé est un <code class="docutils literal"><span class="pre">ModelMultipleChoiceField</span></code>. Ce champ permet
de sélectionner plusieurs entrées d&#8217;une table de la base de données par l&#8217;intermédiaire
de cases à cocher. Ici, il s&#8217;agit
de la table :py:class`models.QcmChoice`.</p>
<p>L&#8217;argument <code class="docutils literal"><span class="pre">queryset</span></code> permet de définir les choix qui seront affichés, il s&#8217;agit
d&#8217;une liste d&#8217;entrées de la table :py:class`models.QcmChoice`.</p>
<dl class="method">
<dt id="quiz.forms.CheckboxForm.get_type">
<code class="descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/forms.html#CheckboxForm.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.forms.CheckboxForm.get_type" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Retourne <code class="docutils literal"><span class="pre">1</span></code> pour donner une indication sur la manière d&#8217;afficher 
la question dans le template</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="quiz.forms.QuestionForm">
<em class="property">class </em><code class="descclassname">quiz.forms.</code><code class="descname">QuestionForm</code><span class="sig-paren">(</span><em>question</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/forms.html#QuestionForm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.forms.QuestionForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Classe abstraite dont héritent tous les formulaires destinés à la résolution
des quiz. Seul l&#8217;attribut <code class="docutils literal"><span class="pre">question</span></code> est défini. Il correspond à la référence
de la question dans la base de données et permet d&#8217;afficher facilement des informations
sur la question depuis le template.</p>
</dd></dl>

<dl class="class">
<dt id="quiz.forms.RadioForm">
<em class="property">class </em><code class="descclassname">quiz.forms.</code><code class="descname">RadioForm</code><span class="sig-paren">(</span><em>queryset</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/forms.html#RadioForm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.forms.RadioForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Formulaire Django personnalisé correspondant à une question à choix multiples
avec une seule réponse correcte.</p>
<p>Ici, on utilise un champ de formulaire <code class="docutils literal"><span class="pre">ModelChoiceField</span></code>. Il s&#8217;agit du même principe
que pour <a class="reference internal" href="#quiz.forms.CheckboxForm" title="quiz.forms.CheckboxForm"><code class="xref py py-class docutils literal"><span class="pre">CheckboxForm</span></code></a> sauf qu&#8217;un seul choix peut être sélectionné et
que le formulaire est affiché en HTML sous forme de boutons radio.</p>
<dl class="method">
<dt id="quiz.forms.RadioForm.get_type">
<code class="descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/forms.html#RadioForm.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.forms.RadioForm.get_type" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Retourne <code class="docutils literal"><span class="pre">1</span></code> pour donner une indication sur la manière d&#8217;afficher 
la question dans le template</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="quiz.forms.TextForm">
<em class="property">class </em><code class="descclassname">quiz.forms.</code><code class="descname">TextForm</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/forms.html#TextForm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.forms.TextForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Formulaire Django personnalisé destiné à l&#8217;affichage des questions à réponse courte.</p>
<p>Un <code class="docutils literal"><span class="pre">CharField</span></code> constitue l&#8217;unique champ de ce formulaire. Il s&#8217;agit simplement
d&#8217;un champ de texte basique dans lequel l&#8217;étudiant peut écrire sa réponse.</p>
<dl class="method">
<dt id="quiz.forms.TextForm.get_type">
<code class="descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/forms.html#TextForm.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.forms.TextForm.get_type" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Retourne <code class="docutils literal"><span class="pre">0</span></code> pour donner une indication sur la manière d&#8217;afficher 
la question dans le template</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-quiz.utils.submit">
<span id="utils-submit-py"></span><h2>utils/submit.py<a class="headerlink" href="#module-quiz.utils.submit" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="class">
<dt id="quiz.utils.submit.QuizForms">
<em class="property">class </em><code class="descclassname">quiz.utils.submit.</code><code class="descname">QuizForms</code><span class="sig-paren">(</span><em>quiz</em>, <em>data=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/submit.html#QuizForms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.submit.QuizForms" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le rôle de cette classe est de créer des formulaires Django correspondant aux
questions d&#8217;un quiz en particulier puis de fournir des méthodes pour traiter
les données récupérées grâce aux formulaires et de les enregistrer.</p>
<dl class="method">
<dt id="quiz.utils.submit.QuizForms.are_valid">
<code class="descname">are_valid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/submit.html#QuizForms.are_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.submit.QuizForms.are_valid" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Applique la méthode <code class="docutils literal"><span class="pre">.is_valid()</span></code> à chaque formulaire correspondant à une
question et renvoie <code class="docutils literal"><span class="pre">True</span></code> si aucun problème survient avec la validation.</p>
</dd></dl>

<dl class="method">
<dt id="quiz.utils.submit.QuizForms.save_answers">
<code class="descname">save_answers</code><span class="sig-paren">(</span><em>user</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/submit.html#QuizForms.save_answers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.submit.QuizForms.save_answers" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette méthode permet de sauvegarder dans la base de données les réponses
soumises par le biais des formulaires Django correspondant à chaque question.</p>
<p>Pour ce faire, une nouvelle entrée dans la table <code class="docutils literal"><span class="pre">CompletedQuiz</span></code> est
d&#8217;abord créée. Ensuite, la méthode parcourt parallèlement la liste des questions
du quiz et les formulaires correspondants. Pour chaque question, elle appelle
la méthode <code class="docutils literal"><span class="pre">.save_submit()</span></code> avec en argument les données récupérées à partir
du formulaire associé à la question. La méthode <code class="docutils literal"><span class="pre">.save_submit()</span></code> se charge
de sauvegarder les données concernant les réponses soumises aux différentes
questions. La manière de traiter ces données dépendera du type de question
dont il s&#8217;agit. On peut appliquer la méthode <code class="docutils literal"><span class="pre">.save_submit()</span></code> à chacune
des questions du quiz sans se soucier du type car son comportement est défini
différement selon la classe à laquelle appartient la question.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-quiz.utils.correct">
<span id="utils-correct-py"></span><h2>utils/correct.py<a class="headerlink" href="#module-quiz.utils.correct" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ensemble d&#8217;objets pour permettre un accès facilité aux données nécessaires à
l&#8217;affichage des corrections</p>
<dl class="class">
<dt id="quiz.utils.correct.CorrectChoice">
<em class="property">class </em><code class="descclassname">quiz.utils.correct.</code><code class="descname">CorrectChoice</code><span class="sig-paren">(</span><em>choice</em>, <em>qcmsubmit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/correct.html#CorrectChoice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.correct.CorrectChoice" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Fournis des raccourcis pour accéder aux données des choix de QCM à corriger.
Cette classe permet d&#8217;indiquer le texte à afficher avec le choix, de déterminer
s&#8217;il a été coché et s&#8217;il est correct.</p>
</dd></dl>

<dl class="class">
<dt id="quiz.utils.correct.CorrectQcm">
<em class="property">class </em><code class="descclassname">quiz.utils.correct.</code><code class="descname">CorrectQcm</code><span class="sig-paren">(</span><em>qcmsubmit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/correct.html#CorrectQcm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.correct.CorrectQcm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Facilite l&#8217;affichage de la correction des questions à choix multiples par
l&#8217;intermédiaire de raccourcis et instancie des objets de type <a class="reference internal" href="#quiz.utils.correct.CorrectChoice" title="quiz.utils.correct.CorrectChoice"><code class="xref py py-class docutils literal"><span class="pre">CorrectChoice</span></code></a>.</p>
<p>L&#8217;attribut <code class="docutils literal"><span class="pre">type</span></code> vaut <code class="docutils literal"><span class="pre">1</span></code> pour les QCM à réponses multiples, <code class="docutils literal"><span class="pre">2</span></code> pour
les listes déroulantes et <code class="docutils literal"><span class="pre">3</span></code> pour les QCM à réponse unique.</p>
</dd></dl>

<dl class="class">
<dt id="quiz.utils.correct.CorrectQuestion">
<em class="property">class </em><code class="descclassname">quiz.utils.correct.</code><code class="descname">CorrectQuestion</code><span class="sig-paren">(</span><em>submit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/correct.html#CorrectQuestion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.correct.CorrectQuestion" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Définit des raccourcis pour accéder aux attributs communs à tous les types
de questions.</p>
</dd></dl>

<dl class="class">
<dt id="quiz.utils.correct.CorrectSq">
<em class="property">class </em><code class="descclassname">quiz.utils.correct.</code><code class="descname">CorrectSq</code><span class="sig-paren">(</span><em>sqsubmit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/correct.html#CorrectSq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.correct.CorrectSq" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Fournit des attributs spécifiques à la correction des questions à réponse courte.
L&#8217;attribut <code class="docutils literal"><span class="pre">type</span></code> permet d&#8217;identifier dans le template le type de question
dont il s&#8217;agit et de déterminer la manière d&#8217;afficher la correction.</p>
<p>Pour une question à réponse courte, <code class="docutils literal"><span class="pre">type</span></code> vaut <code class="docutils literal"><span class="pre">0</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="module-quiz.utils.save">
<span id="utils-save-py"></span><h2>utils/save.py<a class="headerlink" href="#module-quiz.utils.save" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="class">
<dt id="quiz.utils.save.SaveQcm">
<em class="property">class </em><code class="descclassname">quiz.utils.save.</code><code class="descname">SaveQcm</code><span class="sig-paren">(</span><em>question</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/save.html#SaveQcm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.save.SaveQcm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Enregistre une question à choix multiples dans la base de données. S&#8217;il s&#8217;agit
d&#8217;une question à réponses correctes multiples, il faut assigner la valeur <code class="docutils literal"><span class="pre">True</span></code>
à l&#8217;attribut <code class="docutils literal"><span class="pre">multi_answers</span></code>. Par défaut, celui-ci reçoit la valeur <code class="docutils literal"><span class="pre">False</span></code>.
Les différentes options à sélectionner sont également enregistrées.</p>
<dl class="method">
<dt id="quiz.utils.save.SaveQcm.add_option">
<code class="descname">add_option</code><span class="sig-paren">(</span><em>option</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/save.html#SaveQcm.add_option"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.save.SaveQcm.add_option" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ajoute une option à la question en créant une nouvelle entrée dans la table
<code class="xref py py-class docutils literal"><span class="pre">models.QcmChoice</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="quiz.utils.save.SaveQuestion">
<em class="property">class </em><code class="descclassname">quiz.utils.save.</code><code class="descname">SaveQuestion</code><span class="sig-paren">(</span><em>question</em>, <em>Model</em>, <em>quiz_db</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/save.html#SaveQuestion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.save.SaveQuestion" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Classe abstraite qui créé une nouvelle question dans la base de données avec
les attributs communs à tous les types de questions. La méthode <code class="docutils literal"><span class="pre">.save()</span></code>
n&#8217;est pas encore utilisée car certains attributs doivent encore être ajoutés
dans les classes filles.</p>
<p>La table concernée peut être <code class="xref py py-class docutils literal"><span class="pre">models.SimpleQuestion</span></code> ou <code class="xref py py-class docutils literal"><span class="pre">models.Qcm</span></code>.
Cela dépend de l&#8217;argument <code class="docutils literal"><span class="pre">Model</span></code> qui définit la classe à utiliser.</p>
<p>L&#8217;argument <code class="docutils literal"><span class="pre">question</span></code> est un dictionnaire contenant les données sur la question.
Les arguments <cite>quiz_db`</cite> et <code class="docutils literal"><span class="pre">n</span></code> correspondent respectivement à la référence
du quiz dans la table :py:class:models.Quiz`` et à l&#8217;index de la position
de la question.</p>
</dd></dl>

<dl class="class">
<dt id="quiz.utils.save.SaveQuiz">
<em class="property">class </em><code class="descclassname">quiz.utils.save.</code><code class="descname">SaveQuiz</code><span class="sig-paren">(</span><em>title</em>, <em>questions_list</em>, <em>quizcode</em>, <em>teacher</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/save.html#SaveQuiz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.save.SaveQuiz" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Classe permettant l&#8217;enregistrement d&#8217;un quiz et de toutes ses questions dans
la base de données. Une première entrée <code class="xref py py-class docutils literal"><span class="pre">models.Quiz</span></code> est enregistrée
puis les données des questions sont sauvegardées par l&#8217;intermédiaire des classes
<a class="reference internal" href="#quiz.utils.save.SaveSimpleQuestion" title="quiz.utils.save.SaveSimpleQuestion"><code class="xref py py-class docutils literal"><span class="pre">SaveSimpleQuestion</span></code></a> et <a class="reference internal" href="#quiz.utils.save.SaveQcm" title="quiz.utils.save.SaveQcm"><code class="xref py py-class docutils literal"><span class="pre">SaveQcm</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="quiz.utils.save.SaveSimpleQuestion">
<em class="property">class </em><code class="descclassname">quiz.utils.save.</code><code class="descname">SaveSimpleQuestion</code><span class="sig-paren">(</span><em>question</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/save.html#SaveSimpleQuestion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.save.SaveSimpleQuestion" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Enregistre une question à réponse courte dans la base de données. Tous les champs
de la base de données ont déjà été définis par <a class="reference internal" href="#quiz.utils.save.SaveQuestion" title="quiz.utils.save.SaveQuestion"><code class="xref py py-class docutils literal"><span class="pre">SaveQuestion</span></code></a>,
la méthode <code class="docutils literal"><span class="pre">.save()</span></code> peut donc être utilisée directement. Les différentes
solutions sont ensuite sauvegardées.</p>
<dl class="method">
<dt id="quiz.utils.save.SaveSimpleQuestion.add_answer">
<code class="descname">add_answer</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quiz/utils/save.html#SaveSimpleQuestion.add_answer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quiz.utils.save.SaveSimpleQuestion.add_answer" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ajoute une solution à la question en créant un champ dans la table 
<code class="xref py py-class docutils literal"><span class="pre">models.SqAnswer</span></code></p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="database.html" class="btn btn-neutral float-right" title="Modèle relationnel">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="doc-user.html" class="btn btn-neutral" title="Documentation utilisateur"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Benoît Léo Maillard.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>