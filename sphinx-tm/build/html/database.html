

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Modèle relationnel &mdash; documentation Développement d&#39;une application web de création de quiz 0.1</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="documentation Développement d&#39;une application web de création de quiz 0.1" href="index.html"/>
        <link rel="prev" title="Documentation du code source" href="source.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> Développement d'une application web de création de quiz</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="rapydscript.html">Présentation de RapydScript</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rapydscript.html#pourquoi-utiliser-python-plutot-que-javascript">Pourquoi utiliser Python plutôt que Javascript ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapydscript.html#differentes-manieres-d-aborder-le-probleme-coffeescript-brython-et-rapydscript">Différentes manières d&#8217;aborder le problème : CoffeeScript, Brython et RapydScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapydscript.html#introduction-a-rapydscript">Introduction à RapydScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapydscript.html#comparaison-du-code-source-et-du-code-genere">Comparaison du code source et du code généré</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doc-user.html">Documentation utilisateur</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc-user.html#professeurs">Professeurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-user.html#etudiants">Étudiants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="source.html">Documentation du code source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="source.html#module-quiz.views">views.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="source.html#module-quiz.models">models.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="source.html#module-quiz.forms">forms.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="source.html#module-quiz.utils.submit">utils/submit.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="source.html#module-quiz.utils.correct">utils/correct.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="source.html#module-quiz.utils.save">utils/save.py</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Modèle relationnel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#utilisation-dans-l-application-de-creation-de-quiz">Utilisation dans l&#8217;application de création de quiz</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Développement d'une application web de création de quiz</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Modèle relationnel</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/database.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="modele-relationnel">
<h1>Modèle relationnel<a class="headerlink" href="#modele-relationnel" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Lien permanent vers ce titre">¶</a></h2>
<p>Une des premières étapes importantes dans le développement d&#8217;un site web est l&#8217;élaboration d&#8217;un modèle relationnel structuré permettant de stocker toutes les données générées par l&#8217;application et de les relier entre elles. Un modèle relationnel décrit les différentes tables de la base de données et les liens entre ces tables. Une table peut être comparée à un tableau contenant des informations. Chaque table comporte une ou plusieurs colonnes, chaque colonne stockant un type de données précisément défini, par exemple un nombre entier ou une chaîne de caractères. Si on imagine une table contenant les données sur les utilisateurs d&#8217;un site, une colonne pourrait alors contenir le pseudonyme d&#8217;un utilisateur et une autre son âge. On peut ensuite ajouter des entrées dans une table, c&#8217;est à dire un ensemble de données dont chaque élément correspond à une colonne de la table. Dans l&#8217;exemple précédent, on ajouterait ainsi une ligne pour chaque utilisateur s&#8217;inscrivant sur le site. Chaque ligne est identifiée grâce à une clé primaire unique, habituellement sous la forme d&#8217;un entier, qui permet de créer des liens entre différentes lignes de différentes tables. Ces liens entre différentes tables sont appelées relations.</p>
<p>Voici, présenté sous forme simplifiée à l&#8217;aide d&#8217;un tableau, comment on pourrait stocker les données concernant des quiz et leurs créateurs :</p>
<p><strong>Table contenant les utilisateurs :</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="34%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Clé primaire</th>
<th class="head">Prénom</th>
<th class="head">Âge</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>Paul</td>
<td>26</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Juliette</td>
<td>22</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Marc</td>
<td>48</td>
</tr>
</tbody>
</table>
<p><strong>Table contenant les quiz :</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="54%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Clé primaire</th>
<th class="head">Titre du quiz</th>
<th class="head">Auteur</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>Fonctions exponentielles</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Logarithmes</td>
<td>3</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Comportement à l&#8217;infini</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>Ici, le premier quiz a comme titre <em>Fonctions exponentielles</em>, comporte 5 questions et a été créé par Marc (Utilisateur 3).</p>
<p>Une fois que le modèle relationnel a été élaboré, on peut créer une base de données sous forme de fichier. Le langage SQL permet de créer les tables d&#8217;une base de données, d&#8217;y enregistrer des informations et de faire des requêtes, c&#8217;est à dire récupérer des données enregistrées. Un logiciel ou une application web peut ainsi communiquer avec une base de données et stocker les informations nécessaires de manière permanente.</p>
<p>Django offre la possibilité de créer une base de données et d&#8217;interagir avec celle-ci par le biais d&#8217;une ORM (Object Relational Mapper), on peut donc éviter l&#8217;utilisation du langage SQL et communiquer avec la base de données avec des objets et des méthodes Python. Cet aspect de Django sera abordé un peu plus loin.</p>
</div>
<div class="section" id="utilisation-dans-l-application-de-creation-de-quiz">
<h2>Utilisation dans l&#8217;application de création de quiz<a class="headerlink" href="#utilisation-dans-l-application-de-creation-de-quiz" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="implementation-dans-django">
<h3>Implémentation dans Django<a class="headerlink" href="#implementation-dans-django" title="Lien permanent vers ce titre">¶</a></h3>
<p>Comme indiqué précédemment, Django fournit une interface de haut niveau pour créer et interagir avec une base de données. On peut écrire nos tables avec une architecture orientée objet, que Django &#8220;traduira&#8221; ensuite en SQL. Ainsi, pour créer une table dans notre base de données, il suffit de définir une classe héritant de <code class="docutils literal"><span class="pre">models.Model</span></code> et d&#8217;initialiser des variables de classes pour ajouter des colonnes à la tables. Ainsi, par exemple, pour implémenter une table contenant les données générales d&#8217;un quiz, il suffit d&#8217;écrire le code suivant :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Quiz</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span> <span class="c">#Infos générales sur le quiz</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span> <span class="c">#Colonne contenant une chaîne de caractères</span>
    <span class="n">creation_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">()</span> <span class="c">#Colonne contenant une date/heure</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span> <span class="c">#Colonne contenant une chaîne de caractères</span>
</pre></div>
</div>
<p>Les objets comme <code class="docutils literal"><span class="pre">CharField()</span></code> ou <code class="docutils literal"><span class="pre">DateTimeField()</span></code> permettent de définir des champs d&#8217;un type de données précis. Une liste complète des types de champs est disponible sur la documentation officielle de Django : <a class="reference external" href="https://docs.djangoproject.com/en/1.7/ref/models/fields/#field-types">https://docs.djangoproject.com/en/1.7/ref/models/fields/#field-types</a></p>
</div>
<div class="section" id="schema-global">
<h3>Schéma global<a class="headerlink" href="#schema-global" title="Lien permanent vers ce titre">¶</a></h3>
<p>L&#8217;élaboration d&#8217;un schéma relationnel n&#8217;est pas chose facile car il est nécessaire que celui ci réponde à certains critères. Il doit être relativement simple afin de garder une certaine flexibilité et d&#8217;avoir la possiblité d&#8217;être modifié plus tard, car il est souvent difficile de prédire à l&#8217;avance les difficultés liées au stockage des données qui pourraient être rencontrées au cours du développement. Il doit également être possible d&#8217;ajouter des fonctionnalités sans devoir revoir toute l&#8217;organisation du schéma ou créer un trop grand nombre de nouvelles tables. Malgré cela, le modèle doit aussi correspondre aux exigences des fonctionnalités de l&#8217;application et doit inclure toutes les relations nécessaires. Il s&#8217;agit donc d&#8217;une étape cruciale qui peut s&#8217;avérer décisive pour la suite du développement.</p>
<p>Voici le diagramme des tables utilisés pour stocker les données des quiz :</p>
<div class="figure align-center">
<img alt="_images/quiz-models.png" src="_images/quiz-models.png" />
</div>
</div>
<div class="section" id="explications-des-tables">
<h3>Explications des tables<a class="headerlink" href="#explications-des-tables" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="quiz">
<h4><code class="docutils literal"><span class="pre">Quiz</span></code><a class="headerlink" href="#quiz" title="Lien permanent vers ce titre">¶</a></h4>
<p>La table <code class="docutils literal"><span class="pre">Quiz</span></code> est la table centrale de l&#8217;application et toutes les autres tables s&#8217;organisent autour d&#8217;elle. Elle comporte trois colonnes importantes : une contenant le titre, une autre contenant la date et l&#8217;heure de création (ajouté automatiquement lorsqu&#8217;un nouveau quiz est créé) ainsi qu&#8217;une colonne dans laquelle est stockée le nombre maximal de points pouvant être obtenus pour le quiz en question. Cette table comporte également une relation vers une table Teacher  qui permet l&#8217;intégration dans le projet de groupe.</p>
<p>Avec django, il est possible d&#8217;initialiser automatiquement un champ <code class="docutils literal"><span class="pre">DateTimeField</span></code> à la date/heure du moment où le modèle est instancié avec le paramètre <code class="docutils literal"><span class="pre">auto_now_add</span></code></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">creation_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="quizdraft">
<h4><code class="docutils literal"><span class="pre">QuizDraft</span></code><a class="headerlink" href="#quizdraft" title="Lien permanent vers ce titre">¶</a></h4>
<p>Cette table est un peu isolée dans le schéma relationnel et n&#8217;a qu&#8217;une fonction : enregistrer le code qu&#8217;un quiz qu&#8217;un professeur n&#8217;a pas terminé et lui offrir la possibilité de le récupérer plus tard pour continuer son travail. Outre la relation vers la table <code class="docutils literal"><span class="pre">Teacher</span></code> et la colonne stockant le code du quiz, une colonne permet de stocker un titre pour pouvoir identifier rapidement un brouillon.</p>
</div>
<div class="section" id="simplequestion">
<h4><code class="docutils literal"><span class="pre">SimpleQuestion</span></code><a class="headerlink" href="#simplequestion" title="Lien permanent vers ce titre">¶</a></h4>
<p>Cette table contient les informations générales sur les questions simples du quiz. Ces questions sont présentées sous la forme d&#8217;un simple champ de texte lorsqu&#8217;un élève complète le quiz. Une première colonne <code class="docutils literal"><span class="pre">title</span></code> stocke l&#8217;énoncé de la question, <code class="docutils literal"><span class="pre">comment</span></code> permet d&#8217;inclure un commentaire affiché lors de la correction automatique du quiz (par exemple la démonstration d&#8217;une égalité), <code class="docutils literal"><span class="pre">points</span></code> définit le nombre de points attribués sur cette question et <code class="docutils literal"><span class="pre">number</span></code> enregistre l&#8217;ordre auquel doit apparaître la question dans le quiz. Une relation désigne le quiz qui intègre la question.</p>
</div>
<div class="section" id="sqanswer">
<h4><code class="docutils literal"><span class="pre">SqAnswer</span></code><a class="headerlink" href="#sqanswer" title="Lien permanent vers ce titre">¶</a></h4>
<p>Cette table contient simplement la solution de la question définie par la relation vers la table <em>SimpleQuestion</em>. Il est important de noter qu&#8217;il peut y avoir plusieurs solutions possibles pour une question et c&#8217;est la raison pour laquelle la solution n&#8217;est pas simplement stockée dans une colonne de <em>SimpleQuestion</em>.</p>
</div>
<div class="section" id="qcm">
<h4><code class="docutils literal"><span class="pre">Qcm</span></code><a class="headerlink" href="#qcm" title="Lien permanent vers ce titre">¶</a></h4>
<p>La table Qcm permet de stocker les informations générales à propos des questions à choix multiples. Ces questions sont affichées sous forme de boutons radio, de cases à cocher ou de liste déroulante.
Cette table reprend plusieurs colonnes de la table <em>SimpleQuestion</em>. C&#8217;est pourquoi ces deux tables héritent en fait du même modèle dans django :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">QuizQuestion</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span> <span class="c">#Classe abstraite dont héritent toutes les questions</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span> <span class="c">#Énoncé</span>
    <span class="n">comment</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="c">#Commentaire</span>
    <span class="n">points</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FloatField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">number</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span> <span class="c">#Ordre de la question dans le quiz</span>
    <span class="n">id_quiz</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Quiz</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="bp">True</span>

<span class="k">class</span> <span class="nc">SimpleQuestion</span><span class="p">(</span><span class="n">QuizQuestion</span><span class="p">):</span>
    <span class="k">pass</span> <span class="c">#Cette table reprend simplement les mêmes colonnes que le modèle abstrait</span>

<span class="k">class</span> <span class="nc">Qcm</span><span class="p">(</span><span class="n">QuizQuestion</span><span class="p">):</span>
    <span class="n">multi_answers</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">()</span>
</pre></div>
</div>
<p>En plus des colonnes héritées de <code class="docutils literal"><span class="pre">QuizQuestion`</span></code>, <code class="docutils literal"><span class="pre">Qcm</span></code> possède un champ de type booléen. Il s&#8217;agit de <code class="docutils literal"><span class="pre">multi_answers</span></code>, qui détermine si plusieurs options peuvent êres cochées ou non. Si ce champ vaut <code class="docutils literal"><span class="pre">True</span></code>, la question sera affiché sous forme de cases à cocher en HTML. Dans le cas contraire, elle sera affichée à l&#8217;aide de boutons radio.</p>
</div>
<div class="section" id="qcmchoice">
<h4><code class="docutils literal"><span class="pre">QcmChoice</span></code><a class="headerlink" href="#qcmchoice" title="Lien permanent vers ce titre">¶</a></h4>
<p>Cette table contient les différents choix possibles pour la question définie par la relation vers <code class="docutils literal"><span class="pre">Qcm</span></code>. Elle est formée de deux champs, le premier contenant le texte du choix et l&#8217;autre définissant par un booléen s&#8217;il est correct ou non de cocher ce choix. Une question à choix multiples doit avoir au moins deux choix possibles et au moins un choix correct. Si <code class="docutils literal"><span class="pre">multi_answers</span></code> vaut <code class="docutils literal"><span class="pre">False</span></code> dans <code class="docutils literal"><span class="pre">Qcm</span></code>, une seule option peut être correcte puisque l&#8217;étudiant n&#8217;a la possibilité de cocher qu&#8217;une seule option.</p>
<p><strong>Note :</strong> D&#8217;un point de vue purement relationnel, comme il est indiqué sur le diagramme, cette table possède une relation vers une table qui sert d&#8217;intermédiaire entre <em>QcmChoice</em> et <code class="docutils literal"><span class="pre">QcmSubmitMulti</span></code>. Cette table intermédiaire crée en fait une relation de type <em>Complexe-Complexe</em>. L&#8217;implémentation de ce type de relation avec Django sera abordé plus loin.</p>
</div>
<div class="section" id="completedquiz">
<h4><code class="docutils literal"><span class="pre">CompletedQuiz</span></code><a class="headerlink" href="#completedquiz" title="Lien permanent vers ce titre">¶</a></h4>
<p>Comme on peut le voir sur le diagramme, à l&#8217;instar de <code class="docutils literal"><span class="pre">Quiz</span></code>, cette table occupe aussi un rôle central dans le modèle relationnel. Elle permet de faire le lien entre un quiz créé par un professeur et les réponses soumises à ce quiz par les étudiants. Elle possède donc une relation vers une table <code class="docutils literal"><span class="pre">Student</span></code>, qui définit l&#8217;étudiant ayant répondu au quiz. De l&#8217;autre côté, cette table pointe vers <code class="docutils literal"><span class="pre">Quiz</span></code> et définit logiquement le quiz auquel l&#8217;étudiant a répondu. Un seul champ est présent : la date et l&#8217;heure de la soumission des réponses.</p>
</div>
<div class="section" id="sqsubmit">
<h4><code class="docutils literal"><span class="pre">SqSubmit</span></code><a class="headerlink" href="#sqsubmit" title="Lien permanent vers ce titre">¶</a></h4>
<p>Il s&#8217;agit simplement de la réponse apportée à une question simple. La table a donc un champ <code class="docutils literal"><span class="pre">text</span></code> qui contient la réponse soumise par l&#8217;élève et un champ <code class="docutils literal"><span class="pre">result</span></code> qui stocke le nombre de points obtenus pour la question. Elle possède aussi deux relations, une vers <code class="docutils literal"><span class="pre">SimpleQuestion</span></code> pour préciser la question auquel l&#8217;élève a répondu, et une autre vers <em>CompletedQuiz</em>. La réponse soumise par l&#8217;élève sera ensuite comparée à(aux) solution(s) enregistrées pour déterminer si les points sont attribués ou non.</p>
</div>
<div class="section" id="qcmsubmitone-et-qcmsubmitmulti">
<h4><code class="docutils literal"><span class="pre">QcmSubmitOne</span> <span class="pre">et</span> <span class="pre">QcmSubmitMulti</span></code><a class="headerlink" href="#qcmsubmitone-et-qcmsubmitmulti" title="Lien permanent vers ce titre">¶</a></h4>
<p>Ces deux tables sont très similaires. <code class="docutils literal"><span class="pre">QcmSubmitOne</span></code> contient une relation vers l&#8217;option sélectionnée par l&#8217;étudiant dans une question à choix multiples avec <em>multi_answers</em> valant <code class="docutils literal"><span class="pre">False`</span></code>, tandis que <code class="docutils literal"><span class="pre">QcmSubmitMulti</span></code> peut contenir des relations vers plusieurs options, quand <code class="docutils literal"><span class="pre">multi_answers</span></code> vaut <code class="docutils literal"><span class="pre">True</span></code>. Il s&#8217;agit donc dans le premier cas d&#8217;une relation <em>Complexe-Simple</em>, puique plusieurs lignes peuvent pointer vers la même option. Dans le deuxième cas, c&#8217;est une relation de type <em>Complexe-Complexe</em>, puisque plusieurs lignes peuvent pointer vers plusieurs options.</p>
<p>Dans Django, voici comment seront définies ces relations :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">id_selected</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">QcmChoice</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="c">#Relation Complexe-Simple</span>
<span class="n">id_selected</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">QcmChoice</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="c">#Relation Complexe-Complexe</span>
</pre></div>
</div>
<p>L&#8217;argument <code class="docutils literal"><span class="pre">null</span></code> vaut ici <code class="docutils literal"><span class="pre">True</span></code> car il se peut que l&#8217;étudiant ne coche aucun choix. Dans ce cas-là, il n&#8217;obtiendra dans tous les cas aucun point.</p>
<p>En plus de ces relations, ces tables enregistrent aussi le nombre de points obtenus par l&#8217;étudiant pour la question dans la colonne <code class="docutils literal"><span class="pre">result</span></code>.</p>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="source.html" class="btn btn-neutral" title="Documentation du code source"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Benoît Léo Maillard.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>