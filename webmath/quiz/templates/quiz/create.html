{% extends "quiz/base.html" %}
{% load staticfiles %}

{% block title %}Nouveau quiz{% endblock %}
{% block side-create %}active{% endblock %}

{% block head %}
<link rel="stylesheet" href="{% static 'quiz/css/create.css' %}">
<script src="{% static 'quiz/js/textarea_lines.js' %}"></script>
<script src="{% static 'quiz/js/jquery.caret.js' %}"></script>
<script src="{% static 'quiz/js/toolbar.js' %}"></script>
<script src="{% static 'quiz/js/interpreter.js' %}"></script>
{% endblock %}

{% block page-content %}
<div class="thumbnail">
    <form id="createform" action="{% url 'quiz:create' %}" method="post">{% csrf_token %}
        <div class="caption-full">
            <h1>Nouveau quiz</h1>
            <label for="title">Titre du quiz</label>
            <input type="text" class="form-control" id="title" name="title">
                <label for="quizcode">Texte du quiz</label>
                <!-- Toolbar supérieure -->
                <div class="btn-toolbar">
                    <div class="btn-group toolbar-group" role="group">
                        <div class="btn-group" role="group">
                            <a type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Nouvelle question">
                            <span class="glyphicon glyphicon-th-list"></span> Question <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu" role="menu">
                              <li><a class="tag-insert tag-q" data-tag="##">QCM sélection multiple</a></li>
                              <li><a class="tag-insert tag-q"data-tag="**">QCM sélection unique</a></li>
                              <li><a class="tag-insert tag-q" data-tag="^^">Liste déroulante</a></li>
                              <li><a class="tag-insert tag-q" data-tag="??">Champ de texte</a></li>
                            </ul>
                        </div>
                        <a class="btn btn-default btn-sm tag-insert tag-p" title="Option / Réponse correcte" data-tag="=">
                            <span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Correct
                        </a>
                        <a class="btn btn-default btn-sm tag-insert tag-p" title="Option incorrecte" data-tag="*">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Incorrect
                        </a>
                        <a class="btn btn-default btn-sm tag-insert tag-p" title="Commentaire pour la correction" data-tag="+">
                            <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> Commentaire
                        </a>
                        <a class="btn btn-default btn-sm tag-insert tag-p" title="Nombre de points sur la question" data-tag=".">
                            <span class="glyphicon glyphicon-time" aria-hidden="true"></span> Points
                        </a>
                    </div>
                    <div class="btn-group toolbar-group">
                        <div class="btn-group" role="group">
                            <a class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Importer ou enregistrer un brouillon">
                                <span class="glyphicon glyphicon-file" aria-hidden="true"></span> Brouillon <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu" role="menu">
                              <li><a class="">Importer un brouillon</a></li>
                              <li><a class="">Enregistrer un brouillon</a></li>
                            </ul>
                        </div>
                        <a class="btn btn-default btn-sm" id="demo" title="Quiz de démo">
                            <span class="glyphicon glyphicon-play" aria-hidden="true"></span> Démo
                        </a>
                        <a class="btn btn-default btn-sm" title="Afficher l'aide">
                            <span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span> Aide
                        </a>
                    </div>
                </div>
            <div class="input-group">
                <span class="input-group-addon lines" id="basic-addon1">1</span>
                <textarea class="form-control linedarea" id="quizcode" placeholder="Votre texte ici" rows="18" wrap="off" name="quizcode" aria-describedby="basic-addon1"></textarea>
            </div>
            <a href="#viewbox" class="btn btn-primary btn-sm" id="bouton" title="Aperçu du quiz">
                <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span> Aperçu
            </a>
            
            <a class="btn btn-success btn-sm" id="submit" title="Enregistrer le quiz">
                <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Enregistrer
            </a>
            
            <input type="hidden" id="quiz_json" name="json" />
    </form>
</div>
</div>
<div class="thumbnail viewbox" id="viewbox">
    <div class="caption-full">
        <h2>Aperçu</h2>
        <ul id="view_form" class="quizform list-group"></ul>
    </div>
</div>
<div class="thumbnail errorsbox">
    <div class="caption-full">
        <h2>Erreurs</h2>
        <div id="errors-div" class="alert alert-danger"></div>
    </div>
</div>
{% endblock %}